





:class:`Rules`
==============


.. py:class:: pyedb.workflows.drc.drc.Rules(/, **data: Any)

   Bases: :py:obj:`pydantic.BaseModel`


   
   Centralised, serialisable container for **all** design-rule categories
   supported by the PyEDB DRC engine.

   The class is a thin ``pydantic`` model that provides:

   * JSON/YAML round-trip via ``parse_file``, ``parse_obj``, ``model_dump``,
     ``model_dump_json``.
   * Type-safe, API to incrementally **build** rule decks without
     manipulating raw dictionaries.












   .. rubric:: Examples

   >>> from pyedb.workflows.drc.drc import Rules
   >>>
   >>> rules = (
   ...     Rules()
   ...     .add_min_line_width("pwr", "15 mil")
   ...     .add_min_clearance("clk2data", "4 mil", "CLK*", "DATA*")
   ...     .add_min_annular_ring("via5", "5 mil")
   ...     .add_diff_pair_length_match("usb", tolerance="0.1 mm", pairs=[("USB_P", "USB_N")])
   ...     .add_copper_balance("top_bal", max_percent=10, layers=["TOP"])
   ... )
   >>> rules.model_dump_json(indent=2)
   >>> rules.write_json("my_rules.json")

   :Attributes:

       **min_line_width** : :obj:`List`\[:class:`MinLineWidth`]
           Minimum acceptable trace width per layer or globally.

       **min_clearance** : :obj:`List`\[:class:`MinClearance`]
           Spacing requirements between nets (wild-cards allowed).

       **min_annular_ring** : :obj:`List`\[:class:`MinAnnularRing`]
           Minimum annular ring for drilled holes.

       **diff_pair_length_match** : :obj:`List`\[:class:`DiffPairLengthMatch`]
           Length-matching constraints for differential pairs.

       **back_drill_stub_length** : :obj:`List`\[:class:`BackDrillStubLength`]
           Maximum allowed back-drill stub length.

       **copper_balance** : :obj:`List`\[:class:`CopperBalance`]
           Copper-density balance limits per layer or zone.


   ..
       !! processed by numpydoc !!



.. py:currentmodule:: Rules

Overview
--------

.. tab-set::


   .. tab-item:: Constructors

      .. list-table::
          :header-rows: 0
          :widths: auto

          * - :py:attr:`~from_dict`
            - Alias for :meth:`model_validate <pydantic.BaseModel.model_validate>`.


   .. tab-item:: Methods

      .. list-table::
          :header-rows: 0
          :widths: auto

          * - :py:attr:`~to_dict`
            - Alias for :meth:`model_dump <pydantic.BaseModel.model_dump>`.
          * - :py:attr:`~add_min_line_width`
            - Append a minimum-line-width rule.
          * - :py:attr:`~add_min_clearance`
            - Append a minimum-clearance rule between two nets (wild-cards allowed).
          * - :py:attr:`~add_min_annular_ring`
            - Append a minimum-annular-ring rule for drilled holes.
          * - :py:attr:`~add_diff_pair_length_match`
            - Append a length-matching rule for differential pairs.
          * - :py:attr:`~add_back_drill_stub_length`
            - Append a maximum-allowed back-drill stub-length rule.
          * - :py:attr:`~add_copper_balance`
            - Append a copper-density balance rule.



   .. tab-item:: Attributes

      .. list-table::
          :header-rows: 0
          :widths: auto

          * - :py:attr:`~min_line_width`
            - 
          * - :py:attr:`~min_clearance`
            - 
          * - :py:attr:`~min_annular_ring`
            - 
          * - :py:attr:`~diff_pair_length_match`
            - 
          * - :py:attr:`~back_drill_stub_length`
            - 
          * - :py:attr:`~copper_balance`
            - 






Import detail
-------------

.. code-block:: python

    from pyedb.workflows.drc.drc import Rules


Attribute detail
----------------

.. py:attribute:: min_line_width
   :type:  List[MinLineWidth]
   :value: []


.. py:attribute:: min_clearance
   :type:  List[MinClearance]
   :value: []


.. py:attribute:: min_annular_ring
   :type:  List[MinAnnularRing]
   :value: []


.. py:attribute:: diff_pair_length_match
   :type:  List[DiffPairLengthMatch]
   :value: []


.. py:attribute:: back_drill_stub_length
   :type:  List[BackDrillStubLength]
   :value: []


.. py:attribute:: copper_balance
   :type:  List[CopperBalance]
   :value: []




Method detail
-------------

.. py:method:: from_dict(data: dict[str, Any]) -> Rules
   :classmethod:


   
   Alias for :meth:`model_validate <pydantic.BaseModel.model_validate>`.


   :Parameters:

       **data**
           Dictionary produced by ``json.load``, ``yaml.safe_load``, etc.

   :Returns:

       :obj:`Rules`
           Validated instance ready for :meth:`Drc.check`.













   ..
       !! processed by numpydoc !!

.. py:method:: to_dict() -> dict[str, Any]

   
   Alias for :meth:`model_dump <pydantic.BaseModel.model_dump>`.



   :Returns:

       :class:`python:dict`
           JSON-serialisable dictionary.













   ..
       !! processed by numpydoc !!

.. py:method:: add_min_line_width(name: str, value: str, layers: list[str] | None = None) -> Rules

   
   Append a minimum-line-width rule.


   :Parameters:

       **name** : :class:`python:str`
           Rule identifier

       **value** : :class:`python:str`
           Minimum width with unit, e.g. ``"3.5mil"``.

       **layers** : :class:`python:list`\[:class:`python:str`], :obj:`optional`
           List of layer names to apply the rule to.  If ``None``,
           applies to all signal layers.

   :Returns:

       :obj:`Rules`
           Self to enable method chaining.













   ..
       !! processed by numpydoc !!

.. py:method:: add_min_clearance(name: str, value: str, net1: str, net2: str) -> Rules

   
   Append a minimum-clearance rule between two nets (wild-cards allowed).


   :Parameters:

       **name** : :class:`python:str`
           Rule identifier.

       **value** : :class:`python:str`
           Minimum clearance with unit, e.g. ``"4mil"``.

       **net1** : :class:`python:str`
           First net name or wild-card (``"*"``).

       **net2** : :class:`python:str`
           Second net name or wild-card (``"*"``).

   :Returns:

       :obj:`Rules`
           Self to enable method chaining.













   ..
       !! processed by numpydoc !!

.. py:method:: add_min_annular_ring(name: str, value: str) -> Rules

   
   Append a minimum-annular-ring rule for drilled holes.


   :Parameters:

       **name** : :class:`python:str`
           Rule identifier.

       **value** : :class:`python:str`
           Minimum annular ring with unit, e.g. ``"2mil"``.

   :Returns:

       :obj:`Rules`
           Self to enable method chaining.













   ..
       !! processed by numpydoc !!

.. py:method:: add_diff_pair_length_match(name: str, tolerance: str, pairs: list[tuple[str, str]]) -> Rules

   
   Append a length-matching rule for differential pairs.


   :Parameters:

       **name** : :class:`python:str`
           Rule identifier.

       **tolerance** : :class:`python:str`
           Maximum allowed length difference with unit, e.g. ``"0.1mm"``.

       **pairs** : :class:`python:list`\[:class:`python:tuple`\[:class:`python:str`, :class:`python:str`]]
           List of differential pairs as tuples of

   :Returns:

       :obj:`Rules`
           Self to enable method chaining.













   ..
       !! processed by numpydoc !!

.. py:method:: add_back_drill_stub_length(name: str, value: str) -> Rules

   
   Append a maximum-allowed back-drill stub-length rule.


   :Parameters:

       **name** : :class:`python:str`
           Rule identifier.

       **value** : :class:`python:str`
           Maximum allowed stub length with unit, e.g. ``"6mil"``.

   :Returns:

       :obj:`Rules`
           Self to enable method chaining.













   ..
       !! processed by numpydoc !!

.. py:method:: add_copper_balance(name: str, max_percent: int, layers: list[str]) -> Rules

   
   Append a copper-density balance rule.


   :Parameters:

       **name** : :class:`python:str`
           Rule identifier.

       **max_percent** : :class:`python:int`
           Maximum allowed copper imbalance in percent (e.g. ``15`` for 15%).

       **layers** : :class:`python:list`\[:class:`python:str`]
           List of layer names to apply the rule to.

   :Returns:

       :obj:`Rules`
           Self to enable method chaining.













   ..
       !! processed by numpydoc !!




